(function(a){a.widget("mobile.jqmMobiscroll",a.mobile.widget,{options:{theme:"jqm",preset:"date",animate:"pop"},_create:function(){var s=this.element,k=a.extend(this.options,s.jqmData("options"));s.mobiscroll(k)}});a(document).bind("pagebeforecreate",function(s){a('input[type="date"]:jqmData(role="mobiscroll")',s.target).prop("type","text")});a(document).bind("pagecreate create",function(s){a(document).trigger("mobiscrollbeforecreate");a(':jqmData(role="mobiscroll")',s.target).each(function(){"undefined"===
typeof a(this).data("mobiscroll")&&a(this).jqmMobiscroll()})})})(jQuery);(function(a){function s(b,g){function d(b){return a.isArray(c.readonly)?(b=a(".dwwl",l).index(b),c.readonly[b]):c.readonly}function h(a){var b='<div class="dw-bf">',c=1,g;for(g in P[a])0==c%20&&(b+='</div><div class="dw-bf">'),b+='<div class="dw-li dw-v" data-val="'+g+'" style="height:'+y+"px;line-height:"+y+'px;"><div class="dw-i">'+P[a][g]+"</div></div>",c++;return b+"</div>"}function k(){var a=document.body,b=document.documentElement;return Math.max(a.scrollHeight,a.offsetHeight,b.clientHeight,
b.scrollHeight,b.offsetHeight)}function z(b){w=a(".dw-li",b).index(a(".dw-v",b).eq(0));x=a(".dw-li",b).index(a(".dw-v",b).eq(-1));r=a(".dw-ul",l).index(b);j=y;F=i}function Q(a){var b=c.headerText;return b?"function"==typeof b?b.call(K,a):b.replace(/\{value\}/i,a):""}function v(){i.temp=M&&(null!==i.val&&i.val!=t.val()||!t.val().length)||null===i.values?c.parseValue(t.val()||"",i):i.values.slice(0);i.setValue(!0)}function s(b,c,g,d){!1!==G("validate",[l,c])&&a(".dw-ul",l).each(function(g){var f=a(this),
o=a('.dw-li[data-val="'+i.temp[g]+'"]',f),l=a(".dw-li",f).index(o),u=g==c||void 0===c;if(!o.hasClass("dw-v")){for(var e=o,h=0,k=0;e.prev().length&&!e.hasClass("dw-v");)e=e.prev(),h++;for(;o.next().length&&!o.hasClass("dw-v");)o=o.next(),k++;(k<h&&k&&2!==d||!h||!e.hasClass("dw-v")||1==d)&&o.hasClass("dw-v")?l+=k:(o=e,l-=h)}if(!o.hasClass("dw-sel")||u)i.temp[g]=o.attr("data-val"),a(".dw-sel",f).removeClass("dw-sel"),o.addClass("dw-sel"),i.scroll(f,g,l,b)});i.change(g)}function A(){function b(){a(".dwc",
l).each(function(){h=a(this).outerWidth(!0);g+=h;i=h>i?h:i});h=g>d?i:g;h=a(".dwwr",l).width(h+1).outerWidth();Y=o.outerHeight()}if("inline"!=c.display){var g=0,i=0,d=a(window).width(),f=window.innerHeight,e=a(window).scrollTop(),o=a(".dw",l),h,u,n,Y,j,z={},r,p=void 0===c.anchor?t:c.anchor,f=f||a(window).height();if("modal"==c.display)b(),n=(d-h)/2,u=e+(f-Y)/2;else if("bubble"==c.display){b();var m=p.offset(),s=a(".dw-arr",l),T=a(".dw-arrw-i",l),q=o.outerWidth();j=p.outerWidth();n=m.left-(o.outerWidth(!0)-
j)/2;n=n>d-q?d-(q+20):n;n=0<=n?n:20;u=m.top-(o.outerHeight()+3);u<e||m.top>e+f?(o.removeClass("dw-bubble-top").addClass("dw-bubble-bottom"),u=m.top+p.outerHeight()+3,r=u+o.outerHeight(!0)>e+f||m.top>e+f):o.removeClass("dw-bubble-bottom").addClass("dw-bubble-top");u=u>=e?u:e;e=m.left+j/2-(n+(q-T.outerWidth())/2);e>T.outerWidth()&&(e=T.outerWidth());s.css({left:e})}else z.width="100%","top"==c.display?u=e:"bottom"==c.display&&(u=e+f-o.outerHeight(),u=0<=u?u:0);z.top=u;z.left=n;o.css(z);a(".dwo, .dw-persp",
l).height(0).height(k());r&&a(window).scrollTop(u+o.outerHeight(!0)-f)}}function G(b,c){var e;c.push(i);a.each([R,g],function(a,g){g[b]&&(e=g[b].apply(K,c))});return e}function da(a){var b=+a.data("pos")+1;f(a,b>x?w:b,1)}function ea(a){var b=+a.data("pos")-1;f(a,b<w?x:b,2)}var i=this,U=a.mobiscroll,K=b,t=a(K),V,$,c=B({},aa),R={},ba,y,H,l,P=[],N={},M=t.is("input"),O=!1;i.enable=function(){c.disabled=!1;M&&t.prop("disabled",!1)};i.disable=function(){c.disabled=!0;M&&t.prop("disabled",!0)};i.scroll=
function(a,b,c,g,e,i){function f(){clearInterval(N[b]);N[b]=void 0;a.data("pos",c).closest(".dwwl").removeClass("dwa")}var d=(ba-c)*y,h,i=i||I;a.attr("style",(g?ca+"-transition:all "+g.toFixed(1)+"s ease-out;":"")+(fa?ca+"-transform:translate3d(0,"+d+"px,0);":"top:"+d+"px;"));N[b]&&f();g&&void 0!==e?(h=0,a.closest(".dwwl").addClass("dwa"),N[b]=setInterval(function(){h+=0.1;a.data("pos",Math.round((c-e)*Math.sin(h/g*(Math.PI/2))+e));h>=g&&(f(),i())},100),G("onAnimStart",[b,g])):(a.data("pos",c),i())};
i.setValue=function(a,b,g,e){e||(i.values=i.temp.slice(0));O&&a&&s(g);b&&(H=c.formatResult(i.temp),i.val=H,M&&t.val(H).trigger("change"))};i.validate=function(a,b){s(0.2,a,!0,b)};i.change=function(b){H=c.formatResult(i.temp);"inline"==c.display?i.setValue(!1,b):a(".dwv",l).html(Q(H));b&&G("onChange",[H])};i.hide=function(b,g){if(!1===G("onClose",[H,g]))return!1;a(".dwtd").prop("disabled",!1).removeClass("dwtd");t.blur();l&&("inline"!=c.display&&c.animate&&!b?(a(".dw",l).addClass("dw-"+c.animate+" dw-out"),
setTimeout(function(){l.remove();l=null},350)):(l.remove(),l=null),O=!1,a(window).unbind(".dw"))};i.cancel=function(){!1!==i.hide(!1,"cancel")&&G("onCancel",[i.val])};i.changeWheel=function(b,g){if(l){var e=0,i,f,d=b.length;for(i in c.wheels)for(f in c.wheels[i]){if(-1<a.inArray(e,b)&&(P[e]=c.wheels[i][f],a(".dw-ul",l).eq(e).html(h(e)),d--,!d)){A();s(g);return}e++}}};i.show=function(b){if(c.disabled||O)return!1;"top"==c.display&&(c.animate="slidedown");"bottom"==c.display&&(c.animate="slideup");v();
G("onBeforeShow",[l]);var g=0,k,j="",Q="",Z="";c.animate&&!b&&(Q='<div class="dw-persp">',Z="</div>",j="dw-"+c.animate+" dw-in");j='<div class="'+c.theme+" dw-"+c.display+'">'+("inline"==c.display?'<div class="dw dwbg dwi"><div class="dwwr">':Q+'<div class="dwo"></div><div class="dw dwbg '+j+'"><div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"></div></div></div><div class="dwwr">'+(c.headerText?'<div class="dwv"></div>':""));for(b=0;b<c.wheels.length;b++){j+='<div class="dwc'+("scroller"!=
c.mode?" dwpm":" dwsc")+(c.showLabel?"":" dwhl")+'"><div class="dwwc dwrc"><table cellpadding="0" cellspacing="0"><tr>';for(k in c.wheels[b])P[g]=c.wheels[b][k],j+='<td><div class="dwwl dwrc dwwl'+g+'">'+("scroller"!=c.mode?'<div class="dwwb dwwbp" style="height:'+y+"px;line-height:"+y+'px;"><span>+</span></div><div class="dwwb dwwbm" style="height:'+y+"px;line-height:"+y+'px;"><span>&ndash;</span></div>':"")+'<div class="dwl">'+k+'</div><div class="dww dwrc" style="height:'+c.rows*y+"px;min-width:"+
c.width+'px;"><div class="dw-ul">',j+=h(g),j+='</div><div class="dwwo"></div></div><div class="dwwol"></div></div></td>',g++;j+="</tr></table></div></div>"}j+=("inline"!=c.display?'<div class="dwbc'+(c.button3?" dwbc-p":"")+'"><span class="dwbw dwb-s"><span class="dwb">'+c.setText+"</span></span>"+(c.button3?'<span class="dwbw dwb-n"><span class="dwb">'+c.button3Text+"</span></span>":"")+'<span class="dwbw dwb-c"><span class="dwb">'+c.cancelText+"</span></span></div>"+Z:'<div class="dwcc"></div>')+
"</div></div></div>";l=a(j);s();"inline"!=c.display?l.appendTo("body"):t.is("div")?t.html(l):l.insertAfter(t);O=!0;"inline"!=c.display&&(a(".dwb-s span",l).click(function(){if(i.hide(false,"set")!==false){i.setValue(false,true);G("onSelect",[i.val])}}),a(".dwb-c span",l).click(function(){i.cancel()}),c.button3&&a(".dwb-n span",l).click(c.button3),c.scrollLock&&l.bind("touchmove",function(b){b.preventDefault()}),a("input,select,button").each(function(){a(this).prop("disabled")||a(this).addClass("dwtd")}),
a("input,select").prop("disabled",!0),A(),a(window).bind("resize.dw",A));l.delegate(".dwwl","DOMMouseScroll mousewheel",function(b){if(!d(this)){b.preventDefault();var b=b.originalEvent,b=b.wheelDelta?b.wheelDelta/120:b.detail?-b.detail/3:0,g=a(".dw-ul",this),c=+g.data("pos"),c=Math.round(c-b);z(g);f(g,c,b<0?1:2)}}).delegate(".dwb, .dwwb",W,function(){a(this).addClass("dwb-a")}).delegate(".dwwb",W,function(b){var g=a(this).closest(".dwwl");if(!d(g)&&!g.hasClass("dwa")){b.preventDefault();b.stopPropagation();
var e=g.find(".dw-ul"),i=a(this).hasClass("dwwbp")?da:ea;C=true;z(e);clearInterval(p);p=setInterval(function(){i(e)},c.delay);i(e)}}).delegate(".dwwl",W,function(b){b.preventDefault();if(!J&&!d(this)&&!C&&c.mode!="clickpick"){J=true;m=a(".dw-ul",this);m.closest(".dwwl").addClass("dwa");n=+m.data("pos");z(m);X=N[r]!==void 0;D=E(b);e=new Date;q=D;i.scroll(m,r,n)}});G("onShow",[l,H]);V.init(l,i)};i.init=function(b){V=B({defaults:{},init:I},U.themes[b.theme||c.theme]);$=U.i18n[b.lang||c.lang];B(g,b);
B(c,V.defaults,$,g);i.settings=c;t.unbind(".dw");if(b=U.presets[c.preset])R=b.call(K,i),B(c,R,g),B(S,R.methods);ba=Math.floor(c.rows/2);y=c.height;void 0!==t.data("dwro")&&(K.readOnly=L(t.data("dwro")));O&&i.hide();"inline"==c.display?i.show():(v(),M&&c.showOnFocus&&(t.data("dwro",K.readOnly),K.readOnly=!0,t.bind("focus.dw",function(){i.show()})))};i.values=null;i.val=null;i.temp=null;i.init(g)}function k(b){for(var a in b)if(void 0!==z[b[a]])return!0;return!1}function E(b){var a=b.originalEvent,
e=b.changedTouches;return e||a&&a.changedTouches?a?a.changedTouches[0].pageY:e[0].pageY:b.pageY}function L(b){return!0===b||"true"==b}function v(b,a,e){b=b>e?e:b;return b<a?a:b}function f(b,g,e,f,d){var g=v(g,w,x),h=a(".dw-li",b).eq(g),j=r,f=f?g==d?0.1:Math.abs(0.1*(g-d)):0;F.scroll(b,j,g,f,d,function(){F.temp[j]=h.attr("data-val");F.validate(j,e)})}function h(b,a,e){return S[a]?S[a].apply(b,Array.prototype.slice.call(e,1)):"object"===typeof a?S.init.call(b,a):b}var d={},p,I=function(){},j,w,x,F,
A=(new Date).getTime(),J,C,m,r,D,q,e,n,X,z=document.createElement("modernizr").style,fa=k(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),ca=function(){var b=["Webkit","Moz","O","ms"],a;for(a in b)if(k([b[a]+"Transform"]))return"-"+b[a].toLowerCase();return""}(),B=a.extend,W="touchstart mousedown",aa={width:70,height:40,rows:3,delay:300,disabled:!1,readonly:!1,showOnFocus:!0,showLabel:!0,wheels:[],theme:"",headerText:"{value}",display:"modal",mode:"scroller",
preset:"",lang:"en-US",setText:"Set",cancelText:"Cancel",scrollLock:!0,formatResult:function(b){return b.join(" ")},parseValue:function(b,a){var e=a.settings.wheels,f=b.split(" "),d=[],h=0,j,n,k;for(j=0;j<e.length;j++)for(n in e[j]){if(void 0!==e[j][n][f[h]])d.push(f[h]);else for(k in e[j][n]){d.push(k);break}h++}return d}},S={init:function(b){void 0===b&&(b={});return this.each(function(){this.id||(A+=1,this.id="scoller"+A);d[this.id]=new s(this,b)})},enable:function(){return this.each(function(){var b=
d[this.id];b&&b.enable()})},disable:function(){return this.each(function(){var b=d[this.id];b&&b.disable()})},isDisabled:function(){var b=d[this[0].id];if(b)return b.settings.disabled},option:function(b,a){return this.each(function(){var e=d[this.id];if(e){var f={};"object"===typeof b?f=b:f[b]=a;e.init(f)}})},setValue:function(b,a,e,f){return this.each(function(){var h=d[this.id];h&&(h.temp=b,h.setValue(!0,a,e,f))})},getInst:function(){return d[this[0].id]},getValue:function(){var b=d[this[0].id];
if(b)return b.values},show:function(){var b=d[this[0].id];if(b)return b.show()},hide:function(){return this.each(function(){var b=d[this.id];b&&b.hide()})},destroy:function(){return this.each(function(){var b=d[this.id];b&&(b.hide(),a(this).unbind(".dw"),delete d[this.id],a(this).is("input")&&(this.readOnly=L(a(this).data("dwro"))))})}};a(document).bind("touchmove mousemove",function(b){J&&(b.preventDefault(),q=E(b),F.scroll(m,r,v(n+(D-q)/j,w-1,x+1)),X=!0)});a(document).bind("touchend mouseup",function(b){if(J){b.preventDefault();
var g=new Date-e,b=v(n+(D-q)/j,w-1,x+1),d;d=m.offset().top;300>g?(g=(q-D)/g,g=g*g/0.0012,0>q-D&&(g=-g)):g=q-D;if(!g&&!X){d=Math.floor((q-d)/j);var h=a(".dw-li",m).eq(d);h.addClass("dw-hl");setTimeout(function(){h.removeClass("dw-hl")},200)}else d=Math.round(n-g/j);f(m,d,0,!0,Math.round(b));J=!1;m=null}C&&(clearInterval(p),C=!1);a(".dwb-a").removeClass("dwb-a")});a.fn.mobiscroll=function(b){B(this,a.mobiscroll.shorts);return h(this,b,arguments)};a.mobiscroll=a.mobiscroll||{setDefaults:function(b){B(aa,
b)},presetShort:function(b){this.shorts[b]=function(a){return h(this,B(a,{preset:b}),arguments)}},shorts:{},presets:{},themes:{},i18n:{}};a.scroller=a.scroller||a.mobiscroll;a.fn.scroller=a.fn.scroller||a.fn.mobiscroll})(jQuery);(function(a){a.mobiscroll.i18n.de=a.extend(a.mobiscroll.i18n.de,{setText:"OK",cancelText:"Abbrechen"})})(jQuery);(function(a){var s={inputClass:"",invalid:[],rtl:!1,group:!1,groupLabel:"Groups"};a.mobiscroll.presetShort("select");a.mobiscroll.presets.select=function(k){function E(a){return a?a.replace(/_/,""):""}function L(){var e,d=0,j={},k=[{}];f.group?(f.rtl&&(d=1),a("optgroup",h).each(function(e){j["_"+e]=a(this).attr("label")}),k[d]={},k[d][f.groupLabel]=j,e=p,d+=f.rtl?-1:1):e=h;k[d]={};k[d][A]={};a("option",e).each(function(){var e=a(this).attr("value");k[d][A]["_"+e]=a(this).text();a(this).prop("disabled")&&
J.push(e)});return k}var v=k.settings,f=a.extend({},s,v),h=a(this),d=h.val(),p=h.find('option[value="'+h.val()+'"]').parent(),I=p.index()+"",j=I,w,x=this.id+"_dummy";a('label[for="'+this.id+'"]').attr("for",x);var F=a('label[for="'+x+'"]'),A=void 0!==f.label?f.label:F.length?F.text():h.attr("name"),J=[],C={},m,r,D=v.readonly;f.group&&!a("optgroup",h).length&&(f.group=!1);f.invalid.length||(f.invalid=J);f.group?f.rtl?(m=1,r=0):(m=0,r=1):(m=-1,r=0);a("#"+x).remove();a("option",h).each(function(){C[a(this).attr("value")]=
a(this).text()});var q=a('<input type="text" id="'+x+'" value="'+C[h.val()]+'" class="'+f.inputClass+'" readonly />').insertBefore(h);f.showOnFocus&&q.focus(function(){k.show()});h.bind("change",function(){!w&&d!=h.val()&&k.setSelectVal([h.val()],true);w=false}).hide().closest(".ui-field-contain").trigger("create");k.setSelectVal=function(a,n,m){d=a[0];if(f.group){p=h.find('option[value="'+d+'"]').parent();j=p.index();k.temp=f.rtl?["_"+d,"_"+p.index()]:["_"+p.index(),"_"+d];if(j!==I){v.wheels=L();
k.changeWheel([r]);I=j+""}}else k.temp=["_"+d];k.setValue(true,n,m);if(n){q.val(C[d]);a=d!==h.val();h.val(d);a&&h.trigger("change")}};k.getSelectVal=function(a){return E((a?k.temp:k.values)[r])};return{width:50,wheels:void 0,headerText:!1,anchor:q,formatResult:function(a){return C[E(a[r])]},parseValue:function(){d=h.val();p=h.find('option[value="'+d+'"]').parent();j=p.index();return f.group&&f.rtl?["_"+d,"_"+j]:f.group?["_"+j,"_"+d]:["_"+d]},validate:function(e,n){if(n===m){j=E(k.temp[m]);if(j!==
I){p=h.find("optgroup").eq(j);j=p.index();d=(d=p.find("option").eq(0).val())||h.val();v.wheels=L();if(f.group){k.temp=f.rtl?["_"+d,"_"+j]:["_"+j,"_"+d];k.changeWheel([r]);I=j+""}}v.readonly=D}else d=E(k.temp[r]);var q=a(".dw-ul",e).eq(r);a.each(f.invalid,function(e,d){a('.dw-li[data-val="_'+d+'"]',q).removeClass("dw-v")})},onAnimStart:function(a){if(a===m)v.readonly=[f.rtl,!f.rtl]},onBeforeShow:function(){v.wheels=L();if(f.group)k.temp=f.rtl?["_"+d,"_"+p.index()]:["_"+p.index(),"_"+d]},onSelect:function(a){q.val(a);
w=true;h.val(E(k.values[r])).trigger("change");if(f.group)k.values=null},onCancel:function(){if(f.group)k.values=null},onChange:function(a){if(f.display=="inline"){q.val(a);w=true;h.val(E(k.temp[r])).trigger("change")}},onClose:function(){q.blur()},methods:{setValue:function(e,d,f){return this.each(function(){var h=a(this).mobiscroll("getInst");if(h)if(h.setSelectVal)h.setSelectVal(e,d,f);else{h.temp=e;h.setValue(true,d,f)}})},getValue:function(d){var f=a(this).mobiscroll("getInst");if(f)return f.getSelectVal?
f.getSelectVal(d):f.values}}}}})(jQuery);(function(a){a.mobiscroll.themes.ios={defaults:{dateOrder:"MMdyy",rows:5,height:30,width:55,headerText:!1,showLabel:!1}}})(jQuery);
